"use strict";(self.webpackChunktest_app=self.webpackChunktest_app||[]).push([[712],{8712:(q,m,o)=>{o.r(m),o.d(m,{AuthModule:()=>C});var g=o(6019),n=o(9133),h=o(4753),f=o(423),t=o(3668),p=o(3219),u=o(2387),d=o(1659),a=o(888),l=o(8167),Z=o(138),v=o(86);let A=(()=>{class e{constructor(s,r,c,F){this.fb=s,this.authService=r,this.toastr=c,this.router=F,this.disableBtn=!1}ngOnInit(){this.initForm()}initForm(){this.loginForm=this.fb.group({username:[null,[n.kI.required]],password:[null,[n.kI.required]]})}login(){if(this.loginForm.invalid)return this.loginForm.markAllAsTouched();this.disableBtn=!0,this.authService.login(this.loginForm.value).pipe((0,h.U)(s=>{localStorage.setItem("token",s.data.token),this.router.navigate(["/movies"]),this.toastr.success("Login successful")}),(0,f.x)(()=>{this.disableBtn=!1})).subscribe()}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(n.qu),t.Y36(p.e),t.Y36(u._W),t.Y36(d.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:24,vars:2,consts:[[1,"page"],[1,"d-flex","justify-content-center","align-items-center","vh-100"],[1,"shadow-lg","col-xs-12","col-xm-12","col-mg-6","col-lg-3"],[3,"formGroup"],[1,"text-center","my-4"],[1,"text-center"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Username","formControlName","username"],["matInput","","placeholder","Password","formControlName","password"],[1,"text-center","card-genre"],["mat-raised-button","","color","primary","type","submit",1,"w-100",3,"disabled","click"]],template:function(s,r){1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"section",1),t.TgZ(2,"mat-card",2),t.TgZ(3,"form",3),t.TgZ(4,"mat-card-title",4),t._uU(5,"SIGN IN"),t.qZA(),t.TgZ(6,"mat-card-content",5),t.TgZ(7,"div"),t.TgZ(8,"mat-form-field",6),t.TgZ(9,"mat-label"),t._uU(10,"Username"),t.qZA(),t._UZ(11,"input",7),t.TgZ(12,"mat-error"),t._uU(13,"Username required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div"),t.TgZ(15,"mat-form-field",6),t.TgZ(16,"mat-label"),t._uU(17,"Password"),t.qZA(),t._UZ(18,"input",8),t.TgZ(19,"mat-error"),t._uU(20,"Password required"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"mat-card-actions",9),t.TgZ(22,"button",10),t.NdJ("click",function(){return r.login()}),t._uU(23,"LOGIN"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(3),t.Q6J("formGroup",r.loginForm),t.xp6(19),t.Q6J("disabled",r.disableBtn))},directives:[a.a8,n._Y,n.JL,n.sg,a.n5,a.dn,l.KE,l.hX,Z.Nt,n.Fj,n.JJ,n.u,l.TO,a.hq,v.lW],styles:[""]}),e})();var T=o(2033);const U=[{path:"",component:A}];let C=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.ez,d.Bz.forChild(U),n.u5,n.UX,u.Rh.forRoot({timeOut:6e7,positionClass:"toast-bottom",preventDuplicates:!0}),T.q]]}),e})()}}]);